<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ูุชุฌู ูุณุงุจูู</title>
<link rel="stylesheet" href="style.css">
</head>
<body class="background-main">

<div class="center-area">
  <div class="neon-box result-box">
    <h2>๐ ุชุจุฑฺฉ! ๐</h2>
    <p>ุงูุชุงุฒ ููุง ุดูุง: <span id="final-score">0</span></p>
    
    <div class="user-banner">
      <img id="banner-character" src="" alt="ฺฉุงุฑุงฺฉุชุฑ">
      <p id="banner-text"></p>
    </div>

    <div class="share-box">
      <p>ููฺฉ ุฏุนูุช ุงุฎุชุตุงุต ุดูุง:</p>
      <input id="final-invite" readonly>
      <button onclick="location.href='index.html'">ุจุงุฒฺฏุดุช ุจู ุตูุญู ุงุตู</button>
    </div>
  </div>
</div>

<script>
const score = Number(localStorage.getItem('finalScore') || 0);
document.getElementById('final-score').innerText = score;

// ููุงุด ฺฉุงุฑุงฺฉุชุฑ
const ch = localStorage.getItem('selectedCharacter') || 'female';
document.getElementById('banner-character').src = `assets/images/character_${ch}.jpeg`;

// ุฑุชุจู ู ุฌุงุฒู ููุดููุฏ
let rankText = '';
if(score >= 25){
  rankText = '๐ฅ ุดูุง ุฌุฒู ููุฑุงุช ุงูู ูุณุชุฏ! ุฌุงุฒู ูฺู ุฏุฑุงูุช ูโฺฉูุฏ.';
} else if(score >= 15){
  rankText = '๐ฅ ุดูุง ุฑุชุจู ุฏูู ุชุง ุณูู ุฑุง ฺฉุณุจ ฺฉุฑุฏุฏ. ุขูุฑู!';
} else if(score > 0){
  rankText = '๐ฅ ุดูุง ุฏุฑ ูุณุงุจูู ุดุฑฺฉุช ฺฉุฑุฏุฏุ ุขูุฑู!';
} else {
  rankText = 'ูุชุฃุณูุงูู ุงูุชุงุฒ ฺฉุณุจ ูฺฉุฑุฏุฏ. ุฏูุนู ุจุนุฏ ุจูุชุฑ ุฎูุงูุฏ ุจูุฏ!';
}
document.getElementById('banner-text').innerText = rankText;

// ููฺฉ ุฏุนูุช
const userInviteId = localStorage.getItem('userInviteId') || '';
document.getElementById('final-invite').value = window.location.origin + '/quiz.html?ref=' + userInviteId;

// ูพุงฺฉุณุงุฒ ุงูุชุงุฒ ููุง
localStorage.removeItem('finalScore');
</script>

</body>
</html>
