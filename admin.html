<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ø³Ø§Ø¨Ù‚Ù‡</title>
<link rel="stylesheet" href="style.css">
<style>
  body { font-family: Vazirmatn, sans-serif; background: #0a192f; color: #fff; margin:0; padding:0;}
  .container { max-width: 900px; margin: auto; padding: 20px;}
  h1 { text-align: center; color: #00ffe0; }
  label { display:block; margin:10px 0 5px; }
  input, textarea, select { width:100%; padding:8px; margin-bottom:10px; border-radius:5px; border:none; }
  button { padding:10px 15px; margin:5px 0; border:none; border-radius:5px; background:#00ffe0; color:#000; font-weight:bold; cursor:pointer;}
  table { width:100%; border-collapse: collapse; margin-top:20px;}
  th, td { border:1px solid #00ffe0; padding:8px; text-align:center; }
  th { background: rgba(0,255,224,0.1); }
  .danger { background:#ff4c4c; color:#fff; }
</style>
</head>
<body>
<div class="container">
  <h1>Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª Ù…Ø³Ø§Ø¨Ù‚Ù‡</h1>

  <!-- ğŸ”¹ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø¬ÙˆØ§ÛŒØ² -->
  <section>
    <h2>Ø¬ÙˆØ§ÛŒØ² Ù†ÙØ±Ø§Øª Ø¨Ø±ØªØ±</h2>
    <label>Ù†ÙØ± Ø§ÙˆÙ„ (ØªÙˆÙ…Ø§Ù†):</label>
    <input type="number" id="prize1" placeholder="500000">
    <label>Ù†ÙØ± Ø¯ÙˆÙ… (ØªÙˆÙ…Ø§Ù†):</label>
    <input type="number" id="prize2" placeholder="200000">
    <label>Ù†ÙØ± Ø³ÙˆÙ… (ØªÙˆÙ…Ø§Ù†):</label>
    <input type="number" id="prize3" placeholder="100000">
    <button onclick="savePrizes()">Ø°Ø®ÛŒØ±Ù‡ Ø¬ÙˆØ§ÛŒØ²</button>
  </section>

  <!-- ğŸ”¹ Ø§ÙØ²ÙˆØ¯Ù† Ø³ÙˆØ§Ù„ -->
  <section>
    <h2>Ø³ÙˆØ§Ù„Ø§Øª Ù…Ø³Ø§Ø¨Ù‚Ù‡</h2>
    <label>Ù…ØªÙ† Ø³ÙˆØ§Ù„:</label>
    <textarea id="questionText" rows="2"></textarea>
    <label>Ú¯Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§ (Ø¨Ø§ Ú©Ø§Ù…Ø§ Ø¬Ø¯Ø§ Ú©Ù†ÛŒØ¯):</label>
    <input type="text" id="questionOptions" placeholder="Ú¯Ø²ÛŒÙ†Ù‡1, Ú¯Ø²ÛŒÙ†Ù‡2, Ú¯Ø²ÛŒÙ†Ù‡3, Ú¯Ø²ÛŒÙ†Ù‡4">
    <label>Ø´Ù…Ø§Ø±Ù‡ Ú¯Ø²ÛŒÙ†Ù‡ Ø¯Ø±Ø³Øª (0 ØªØ§ 3):</label>
    <input type="number" id="correctIndex" min="0" max="3">
    <label>Ø§Ù…ØªÛŒØ§Ø² Ø³ÙˆØ§Ù„:</label>
    <input type="number" id="questionScore" value="5">
    <button onclick="addQuestion()">Ø§ÙØ²ÙˆØ¯Ù† Ø³ÙˆØ§Ù„</button>
  </section>

  <!-- ğŸ”¹ Ù„ÛŒØ³Øª Ø³ÙˆØ§Ù„Ø§Øª -->
  <section>
    <h2>Ù„ÛŒØ³Øª Ø³ÙˆØ§Ù„Ø§Øª</h2>
    <table id="questionsTable">
      <thead>
        <tr>
          <th>Ù…ØªÙ† Ø³ÙˆØ§Ù„</th>
          <th>Ú¯Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§</th>
          <th>Ø¬ÙˆØ§Ø¨ Ø¯Ø±Ø³Øª</th>
          <th>Ø§Ù…ØªÛŒØ§Ø²</th>
          <th>Ø¹Ù…Ù„ÛŒØ§Øª</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </section>

  <!-- ğŸ”¹ Ø°Ø®ÛŒØ±Ù‡ Ù†Ù‡Ø§ÛŒÛŒ config -->
  <section>
    <button onclick="saveConfig()" style="background:#00ffa0;">Ø°Ø®ÛŒØ±Ù‡ Ù†Ù‡Ø§ÛŒÛŒ Ù¾ÛŒÚ©Ø±Ø¨Ù†Ø¯ÛŒ Ù…Ø³Ø§Ø¨Ù‚Ù‡</button>
  </section>
</div>

<script>
  // ğŸ”¹ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø³ÙˆØ§Ù„â€ŒÙ‡Ø§ Ùˆ Ø¬ÙˆØ§ÛŒØ² Ø§Ø² localStorage
  let questions = JSON.parse(localStorage.getItem('quizQuestions') || '[]');

  function renderQuestionsTable(){
    const tbody = document.querySelector('#questionsTable tbody');
    tbody.innerHTML = '';
    questions.forEach((q,i)=>{
      const tr = document.createElement('tr');
      tr.innerHTML = `
        <td>${q.text}</td>
        <td>${q.options.join(' | ')}</td>
        <td>${q.answer}</td>
        <td>${q.score}</td>
        <td>
          <button onclick="editQuestion(${i})">ÙˆÛŒØ±Ø§ÛŒØ´</button>
          <button class="danger" onclick="deleteQuestion(${i})">Ø­Ø°Ù</button>
        </td>
      `;
      tbody.appendChild(tr);
    });
  }

  renderQuestionsTable();

  function addQuestion(){
    const text = document.getElementById('questionText').value.trim();
    const options = document.getElementById('questionOptions').value.split(',').map(s=>s.trim());
    const answer = Number(document.getElementById('correctIndex').value);
    const score = Number(document.getElementById('questionScore').value);

    if(!text || options.length<2 || isNaN(answer) || isNaN(score)){
      alert('Ù„Ø·ÙØ§Ù‹ Ù‡Ù…Ù‡ ÙÛŒÙ„Ø¯Ù‡Ø§ Ø±Ø§ Ø¯Ø±Ø³Øª Ù¾Ø± Ú©Ù†ÛŒØ¯.');
      return;
    }

    questions.push({text, options, answer, score});
    localStorage.setItem('quizQuestions', JSON.stringify(questions));
    renderQuestionsTable();
    document.getElementById('questionText').value='';
    document.getElementById('questionOptions').value='';
    document.getElementById('correctIndex').value='0';
    document.getElementById('questionScore').value='5';
  }

  function editQuestion(index){
    const q = questions[index];
    document.getElementById('questionText').value = q.text;
    document.getElementById('questionOptions').value = q.options.join(',');
    document.getElementById('correctIndex').value = q.answer;
    document.getElementById('questionScore').value = q.score;

    // Ø­Ø°Ù Ø³ÙˆØ§Ù„ ÙØ¹Ù„ÛŒ Ù‚Ø¨Ù„ Ø§Ø² Ø°Ø®ÛŒØ±Ù‡ Ù…Ø¬Ø¯Ø¯
    questions.splice(index,1);
    renderQuestionsTable();
  }

  function deleteQuestion(index){
    if(confirm('Ø¢ÛŒØ§ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ØŸ')) {
      questions.splice(index,1);
      localStorage.setItem('quizQuestions', JSON.stringify(questions));
      renderQuestionsTable();
    }
  }

  function savePrizes(){
    const p1 = Number(document.getElementById('prize1').value);
    const p2 = Number(document.getElementById('prize2').value);
    const p3 = Number(document.getElementById('prize3').value);
    if(isNaN(p1) || isNaN(p2) || isNaN(p3)){
      alert('Ù„Ø·ÙØ§Ù‹ Ù…Ù‚Ø§Ø¯ÛŒØ± Ø¬ÙˆØ§ÛŒØ² Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯.');
      return;
    }
    const prizes = {first: p1, second: p2, third: p3};
    localStorage.setItem('quizPrizes', JSON.stringify(prizes));
    alert('Ø¬ÙˆØ§ÛŒØ² Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯ âœ…');
  }

  function saveConfig(){
    const config = {questions, prizes: JSON.parse(localStorage.getItem('quizPrizes') || '{}')};
    localStorage.setItem('quizConfig', JSON.stringify(config));
    alert('ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù…Ø³Ø§Ø¨Ù‚Ù‡ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯ âœ…');
  }

</script>
</body>
</html>
